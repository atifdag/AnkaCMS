<p-toast [baseZIndex]="99999"></p-toast>
<div class="content-section introduction">
  <div>
    <span class="feature-title">{{'UserManagement' | globalizationdictionary}}</span>
    <span>{{'NewRecord' | globalizationdictionary}}</span>
  </div>
</div>
<div class="content-section implementation">
  <p-breadcrumb [model]="breadcrumbItems"></p-breadcrumb>
  <form [formGroup]="userForm" class="userForm" (ngSubmit)="onSubmit()">
    <fieldset [disabled]="disabledFieldset">
      <legend>{{'NewRecord' | globalizationdictionary}}</legend>
      <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
        <div class="ui-grid-row">
          <div class="ui-grid-col-2 text-right bold">
            {{ 'FirstName' | globalizationdictionary }}
          </div>
          <div class="ui-grid-col-10">
            <input pInputText type="text" formControlName="firstName" />
            <p-message severity="error"
              [text]="userForm.controls['firstName'].errors['required'] ? globalizationMessagesByParameter('DangerFieldIsEmpty','FirstName') : userForm.controls['firstName'].errors['minlength'] ? globalizationMessagesByParameter2('DangerFieldLengthLimit','FirstName','2') : ''"
              *ngIf="!userForm.controls['firstName'].valid&&userForm.controls['firstName'].dirty">
            </p-message>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-2 text-right bold">
            {{ 'LastName' | globalizationdictionary }}
          </div>
          <div class="ui-grid-col-10">
            <input pInputText type="text" formControlName="lastName" />
            <p-message severity="error"
              [text]="userForm.controls['lastName'].errors['required'] ? globalizationMessagesByParameter('DangerFieldIsEmpty','LastName') : userForm.controls['lastName'].errors['minlength'] ? globalizationMessagesByParameter2('DangerFieldLengthLimit','LastName','2') : ''"
              *ngIf="!userForm.controls['lastName'].valid&&userForm.controls['lastName'].dirty">
            </p-message>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-2 text-right bold">
            {{ 'Username' | globalizationdictionary }}
          </div>
          <div class="ui-grid-col-10">
            <input pInputText type="text" formControlName="username" />
            <p-message severity="error"
              [text]="userForm.controls['username'].errors['required'] ? globalizationMessagesByParameter('DangerFieldIsEmpty','Username') : userForm.controls['username'].errors['minlength'] ? globalizationMessagesByParameter2('DangerFieldLengthLimit','Username','8') : ''"
              *ngIf="!userForm.controls['username'].valid&&userForm.controls['username'].dirty">
            </p-message>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-2 text-right bold">
            {{ 'Email' | globalizationdictionary }}
          </div>
          <div class="ui-grid-col-10">
            <input pInputText type="email" formControlName="email" />
            <p-message severity="error"
              [text]="userForm.controls['email'].errors['required'] ? globalizationMessagesByParameter('DangerFieldIsEmpty','Email') : userForm.controls['email'].errors['email'] ? globalizationMessagesPipe.transform('DangerInvalidEmail') : ''"
              *ngIf="!userForm.controls['email'].valid&&userForm.controls['email'].dirty">
            </p-message>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-2 text-right bold">
            {{ 'Password' | globalizationdictionary }}
          </div>
          <div class="ui-grid-col-10">
            <input pInputText type="password" formControlName="password" />
            <p-message severity="error"
              [text]="userForm.controls['password'].errors['required'] ? globalizationMessagesByParameter('DangerFieldIsEmpty','Password') : userForm.controls['password'].errors['minlength'] ? globalizationMessagesByParameter2('DangerFieldLengthLimit','Password','8') : ''"
              *ngIf="!userForm.controls['password'].valid&&userForm.controls['password'].dirty">
            </p-message>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-2 text-right bold">
            {{ 'ConfirmPassword' | globalizationdictionary }}
          </div>
          <div class="ui-grid-col-10">
            <input pInputText type="password" formControlName="confirmPassword" />
            <p-message severity="error" 
            [text]="globalizationMessages('DangerPasswordsDoNotMatch')"
              *ngIf="!userForm.controls['confirmPassword'].valid&&userForm.controls['confirmPassword'].dirty">
            </p-message>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-2 text-right bold">
            {{'ApprovalStatus' | globalizationdictionary}}
          </div>
          <div class="ui-grid-col-10">
            <p-checkbox formControlName="isApproved" binary="true" [(ngModel)]="isApprovedChecked"
              label="{{isApprovedChecked ? globalizationDictionaryPipe.transform('Approved'):globalizationDictionaryPipe.transform('NotApproved')}}">
            </p-checkbox>
          </div>
        </div>
        <div class="ui-grid-row">
          <div class="ui-grid-col-2"></div>
          <div class="ui-grid-col-10">
            <button pButton type="button" class="ui-button-raised ui-button-secondary" icon="pi pi-angle-left"
              iconPos="left" style="width: auto !important;margin: 5px 5px 5px 0;"
              label="{{'Back' | globalizationdictionary}}" (click)="backClick()"></button>
            <button pButton type="submit" class="ui-button-raised ui-button-success" icon="pi pi-check" iconPos="left"
              style="width: auto !important;margin: 5px 5px;" label="{{'Save' | globalizationdictionary}}"
              [disabled]="!userForm.valid"></button>
          </div>
        </div>
      </div>
    </fieldset>
  </form>
</div>